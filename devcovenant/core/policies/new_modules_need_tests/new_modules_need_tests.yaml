id: new-modules-need-tests
text: |
  New or modified modules in the watched locations must have corresponding
  tests. Test modules (files starting with `test_`) are exempt from the rule.

  The `tests_watch_dirs` metadata keeps `tests/` as the default watch list,
  so the policy covers `tests/devcovenant/core/profiles/` and the
  `tests/devcovenant/custom/profiles/` suites that mirror the package layout.
metadata:
  id: new-modules-need-tests
  status: active
  severity: error
  auto_fix: 'false'
  updated: 'false'
  enforcement: active
  apply: 'true'
  custom: 'true'
  profile_scopes: python
  include_suffixes: .py
  include_prefixes: devcovenant
  exclude_prefixes:
    - build
    - dist
    - node_modules
    - tests
    - devcovenant/core/profiles
    - devcovenant/custom/profiles
  exclude_globs: []
  watch_dirs: tests
  tests_watch_dirs: tests
  include_globs: []
  exclude_suffixes: []
  force_include_globs: []
  watch_files: []
