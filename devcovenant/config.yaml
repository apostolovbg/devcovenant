# DevCovenant Configuration
# Selector metadata accepts comma-separated strings or YAML lists (see
# devcovenant/README.md for the canonical `include_*`/`exclude_*` keys). Use
# the same names here when overriding policy defaults.

# DevCovenant core exclusion guard. For user repos, keep `devcov_core_include`
# set to false so core files stay out of enforcement and remain update-safe.
# Do not edit the core path list in user repos; only the DevCovenant repo
# should enable core inclusion.
devcov_core_include: true
devcov_core_paths:
  - devcovenant/core
  - devcovenant/__init__.py
  - devcovenant/__main__.py
  - devcovenant/cli.py
  - tools/run_pre_commit.py
  - tools/run_tests.py
  - tools/update_test_status.py

# Optional language profiles for multi-language repos. Activate profiles to
# augment `engine.file_suffixes` without rewriting the full list.
language_profiles:
  python:
    suffixes: [.py, .pyi]
  javascript:
    suffixes: [.js, .jsx, .ts, .tsx]
  frontend:
    suffixes: [.vue, .svelte]
  docs:
    suffixes: [.md, .rst, .txt]
  data:
    suffixes: [.json, .yml, .yaml, .toml]
active_language_profiles:
  - python
  - docs
  - data

paths:
  # Markdown document that carries the policy definitions.
  policy_definitions: AGENTS.md
  # Registry file storing the synchronized policy hashes.
  registry_file: devcovenant/registry.json

engine:
  master_update: true
  fix_threshold: warning
  fail_threshold: warning
  auto_fix_enabled: true
  parallel_checks: true
  verbose: true
  pre_commit_all_files: true
  # File suffixes traversed when gathering the repo inventory.
  file_suffixes:
    - .py
    - .md
    - .rst
    - .txt
    - .yml
    - .yaml
    - .js
    - .json
  ignore_dirs:
    - .git
    - .venv
    - .python
    - output
    - logs
    - build
    - dist
    - node_modules
    - __pycache__
    - .pytest_cache
    - .cache
    - .venv.lock

self_enforcement:
  enabled: true
  policy_prefix: "devcov-"

hooks:
  pre_commit: true
  pre_push: false

reporting:
  show_policy_links: true
  audit_trail: true
  use_colors: true

ignore:
  patterns: []

policies:
  managed-bench:
    expected_virtualenvs:
      - ../frappe-bench/env
