# DevCovenant Configuration
# Selector metadata accepts comma-separated strings or YAML lists (see
# devcovenant/README.md for the canonical selector keys). Use the same
# names here when overriding policy defaults.

# DevCovenant core exclusion guard. For user repos, keep `devcov_core_include`
# set to false so core files stay out of enforcement and remain update-safe.
# User repos should also activate the `devcovuser` profile so DevCovenant
# artifacts stay excluded while `devcov/custom/` remains covered.
# Do not edit the core path list in user repos; only the DevCovenant repo
# should enable core inclusion.
devcov_core_include: true
devcov_core_paths:
  - devcovenant/core
  - devcovenant/__init__.py
  - devcovenant/__main__.py
  - devcovenant/cli.py
  - devcovenant/registry
  - devcovenant/run_pre_commit.py
  - devcovenant/run_tests.py
  - devcovenant/update_test_status.py
  - devcovenant/core/check.py

profiles:
  active:
    - global
    - data
    - devcovrepo
    - docs
    - python
    - suffixes
  generated:
    file_suffixes:
      - .py
      - .pyi
      - .pyw
      - .ipynb
      - .csv
      - .tsv
      - .json
      - .ndjson
      - .parquet
      - .avro
      - .md
      - .rst
      - .txt
paths:
  policy_definitions: AGENTS.md
  registry_file: devcovenant/registry/local/policy_registry.yaml
  manifest_file: devcovenant/registry/local/manifest.json
  core_profiles_root: devcovenant/core/profiles
  custom_profiles_root: devcovenant/custom/profiles
  core_policies_root: devcovenant/core/policies
  custom_policies_root: devcovenant/custom/policies

version:
  # Set a specific project version for generated assets and templated files.
  override: null

docs:
  managed_blocks:
    begin: "<!-- DEVCOV:BEGIN -->"
    end: "<!-- DEVCOV:END -->"

install:
  generic_config: false
  allow_existing: false
  auto_uninstall: false
  preserve_custom: true
  config_mode: preserve
  doc_mode: preserve
  disable_policy: []

update:
  preserve_custom: true
  refresh_core: true

engine:
  master_update: true
  fix_threshold: warning
  fail_threshold: error
  auto_fix_enabled: true
  parallel_checks: true
  verbose: true
  pre_commit_all_files: true
  file_suffixes:
    - .md
    - .rst
    - .txt
    - .yml
    - .yaml
    - .json
    - .toml
  ignore_dirs:
    - .git
    - .venv
    - .python
    - output
    - logs
    - build
    - dist
    - node_modules
    - __pycache__
    - .pytest_cache
    - .cache
    - .venv.lock

self_enforcement:
  enabled: true
  policy_prefix: "devcov-"

hooks:
  pre_commit: true
  pre_push: false

pre_commit:
  enabled: true
  overrides: {}

reporting:
  show_policy_links: true
  audit_trail: true
  use_colors: true

policy_state:
  managed-environment: false
  raw-string-escapes: false
freeze_core_policies: []
policy_overrides: {}

ignore:
  patterns: []

autogen_metadata_overrides:
  dependency-license-sync:
    dependency_files:
    - requirements.in
    - requirements.lock
    - pyproject.toml
  devflow-run-gates:
    required_commands:
    - pytest
    - python3 -m unittest discover
    skipped_globs:
    - devcovenant/registry/local/**
  changelog-coverage:
    required_globs:
    - README.md
    - AGENTS.md
    - CONTRIBUTING.md
    - CHANGELOG.md
    - SPEC.md
    - PLAN.md
    summary_verbs:
    - add
    - added
    - adjust
    - adjusted
    - align
    - aligned
    - amend
    - amended
    - automate
    - automated
    - build
    - built
    - bump
    - bumped
    - clean
    - cleaned
    - clarify
    - clarified
    - consolidate
    - consolidated
    - correct
    - corrected
    - create
    - created
    - define
    - defined
    - deprecate
    - deprecated
    - document
    - documented
    - drop
    - dropped
    - enable
    - enabled
    - expand
    - expanded
    - fix
    - fixed
    - harden
    - hardened
    - improve
    - improved
    - introduce
    - introduced
    - migrate
    - migrated
    - normalize
    - normalized
    - refactor
    - refactored
    - remove
    - removed
    - rename
    - renamed
    - replace
    - replaced
    - restructure
    - restructured
    - revise
    - revised
    - streamline
    - streamlined
    - support
    - supported
    - update
    - updated
    - upgrade
    - upgraded
    - wrap
    - wrapped
  documentation-growth-tracking:
    user_facing_suffixes:
    - .py
    - .md
    - .rst
    - .txt
    - .js
    - .ts
    - .tsx
    - .vue
    - .go
    - .rs
    - .java
    - .kt
    - .swift
    - .rb
    - .php
    - .cs
    - .yml
    - .yaml
    - .json
    - .toml
    exclude_prefixes:
    - data
    user_facing_files:
    - devcovenant/cli.py
    - devcovenant/__main__.py
    - .pre-commit-config.yaml
    - pyproject.toml
    user_visible_files:
    - devcovenant/README.md
    - devcovenant/docs/README.md
    - devcovenant/docs/installation.md
    - devcovenant/docs/config.md
    - devcovenant/docs/profiles.md
    - devcovenant/docs/policies.md
    - devcovenant/docs/adapters.md
    - devcovenant/docs/registry.md
    - devcovenant/docs/refresh.md
    - devcovenant/docs/workflow.md
    - devcovenant/docs/troubleshooting.md
    - README.md
    - CONTRIBUTING.md
    - AGENTS.md
    - SPEC.md
    - PLAN.md
    doc_quality_files:
    - devcovenant/README.md
    - devcovenant/docs/README.md
    - devcovenant/docs/installation.md
    - devcovenant/docs/config.md
    - devcovenant/docs/profiles.md
    - devcovenant/docs/policies.md
    - devcovenant/docs/adapters.md
    - devcovenant/docs/registry.md
    - devcovenant/docs/refresh.md
    - devcovenant/docs/workflow.md
    - devcovenant/docs/troubleshooting.md
    - README.md
    - CONTRIBUTING.md
    - AGENTS.md
    - SPEC.md
    - PLAN.md
    user_visible_dirs:
    - devcovenant/docs
    doc_quality_dirs:
    - devcovenant/docs
    user_facing_globs:
    - .github/workflows/*.yml
    - .github/workflows/*.yaml
    user_facing_exclude_prefixes:
    - tests
    user_facing_exclude_dirs:
    - tests/**
  docstring-and-comment-coverage:
    include_suffixes:
    - .py
  line-length-limit:
    include_suffixes:
    - .py
    - .pyi
    - .pyw
    - .ipynb
    - .md
    - .rst
    - .txt
    - .csv
    - .tsv
    - .json
    - .ndjson
    - .parquet
    - .avro
    exclude_globs:
    - devcovenant/registry/**
    - data/**
    - devcovenant/core/profiles/global/assets/*.yaml
    - devcovenant/core/stock_policy_texts.json
  name-clarity:
    include_suffixes:
    - .py
    exclude_prefixes:
    - data
  new-modules-need-tests:
    include_suffixes:
    - .py
    exclude_prefixes:
    - build
    - dist
    - node_modules
    - tests
    - data
    watch_dirs:
    - tests
    - tests/devcovenant/core
    - tests/devcovenant/custom
    tests_watch_dirs:
    - tests
    - tests/devcovenant/core
    - tests/devcovenant/custom
    include_prefixes:
    - devcovenant
  security-scanner:
    include_suffixes:
    - .py
    exclude_prefixes:
    - data
  version-sync:
    pyproject_files:
    - pyproject.toml
    version_file: devcovenant/VERSION
    readme_files:
    - devcovenant/README.md
    - README.md
    - AGENTS.md
    - CONTRIBUTING.md
    - SPEC.md
    - PLAN.md
    optional_files:
    - SPEC.md
    - PLAN.md
    license_files:
    - LICENSE
  last-updated-placement:
    allowed_globs:
    - devcovenant/README.md
    - devcovenant/core/profiles/global/assets/*.yaml
    - README.md
    - AGENTS.md
    - CONTRIBUTING.md
    - CHANGELOG.md
    - SPEC.md
    - PLAN.md
    required_globs:
    - devcovenant/README.md
    - README.md
    - AGENTS.md
    - CONTRIBUTING.md
    - CHANGELOG.md
    - SPEC.md
    - PLAN.md
  semantic-version-scope:
    version_file: devcovenant/VERSION
user_metadata_overrides: {}
doc_assets:
  autogen:
    - AGENTS.md
    - README.md
    - SPEC.md
    - PLAN.md
    - CHANGELOG.md
    - CONTRIBUTING.md
    - devcovenant/README.md
  user: []
